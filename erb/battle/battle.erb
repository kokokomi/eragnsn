; 戦闘画面
; battleを呼ぶ前にbattle_setupをする必要がある
@battle
CALL print_debug("battle")
CALL battle_init

$TURNLOOP
CALL battle_player_turn
CALL battle_enemy_turn

CALL battle_turn_end
; battle_turn_endがtrueを返したらバトル終了
IF RESULT
    GOTO BATTLE_FINISH
ENDIF

;次のターンへ
GOTO TURNLOOP

$BATTLE_FINISH
CALL battle_finalize